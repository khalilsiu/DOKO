{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.EthereumEvents = void 0;\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/construct\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _web = _interopRequireDefault(require(\"web3\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisWalletConnectProvider = _interopRequireDefault(require(\"./MoralisWalletConnectProvider\"));\n\nvar _MoralisInjectedProvider = _interopRequireDefault(require(\"./MoralisInjectedProvider\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _context11, _context12, _context13, _context14;\n\nvar EthereumEvents = {\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged'\n};\nexports.EthereumEvents = EthereumEvents;\nvar WARNING = 'Non ethereum enabled browser';\n\nfunction uniq(arr) {\n  return (0, _filter.default)(arr).call(arr, function (v, i) {\n    return (0, _indexOf.default)(arr).call(arr, v) === i;\n  });\n}\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n    var MWeb3 = typeof _web.default === 'function' ? _web.default : window.Web3;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _construct2.default)(MWeb3, args);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var Web3Provider, web3Provider, web3;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Web3Provider = MoralisWeb3.getWeb3Provider(options);\n                web3Provider = new Web3Provider();\n                _context.next = 4;\n                return web3Provider.activate(options);\n\n              case 4:\n                web3 = _context.sent;\n                this.activeWeb3Provider = web3Provider;\n                return _context.abrupt(\"return\", web3);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _enable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Provider\",\n    value: function value(options) {\n      switch (options === null || options === void 0 ? void 0 : options.provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _MoralisWalletConnectProvider.default;\n\n        default:\n          return _MoralisInjectedProvider.default;\n      }\n    }\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.activeWeb3Provider) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.activeWeb3Provider.deactivate();\n\n              case 3:\n                // Prevent a bug when there is stale data active\n                _MoralisWalletConnectProvider.default.cleanupStaleData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options) {\n        var _context3, _user$get;\n\n        var isLoggedIn, web3, data, accounts, accountsLower, _accountsLower, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.current();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                _context4.next = 8;\n                return MoralisWeb3.cleanup();\n\n              case 8:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return MoralisWeb3.enable(options);\n\n              case 14:\n                web3 = _context4.sent;\n                data = MoralisWeb3.getSigningData();\n                _context4.next = 18;\n                return web3.eth.getAccounts();\n\n              case 18:\n                accounts = _context4.sent;\n                accountsLower = (0, _map.default)(accounts).call(accounts, function (v) {\n                  return v.toLowerCase();\n                });\n                _accountsLower = (0, _slicedToArray2.default)(accountsLower, 1), ethAddress = _accountsLower[0];\n\n                if (ethAddress) {\n                  _context4.next = 23;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 23:\n                _context4.next = 25;\n                return web3.eth.personal.sign(data, ethAddress, '');\n\n              case 25:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 28:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 31;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 31:\n                user = _context4.sent;\n                _context4.next = 34;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 34:\n                if (user) {\n                  _context4.next = 36;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 36:\n                user.set('accounts', uniq((0, _concat.default)(_context3 = []).call(_context3, accountsLower, (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [])));\n                user.set('ethAddress', ethAddress);\n                _context4.next = 40;\n                return user.save(null, options);\n\n              case 40:\n                return _context4.abrupt(\"return\", user);\n\n              case 41:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(account, options) {\n        var _context5, _user$get2;\n\n        var web3, data, user, ethAddress, EthAddress, query, ethAddressRecord, signature, authData;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return MoralisWeb3.enable(options);\n\n              case 2:\n                web3 = _context6.sent;\n                data = MoralisWeb3.getSigningData();\n                _context6.next = 6;\n                return _ParseUser.default.current();\n\n              case 6:\n                user = _context6.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 12;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 12:\n                ethAddressRecord = _context6.sent;\n\n                if (ethAddressRecord) {\n                  _context6.next = 20;\n                  break;\n                }\n\n                _context6.next = 16;\n                return web3.eth.personal.sign(data, account, '');\n\n              case 16:\n                signature = _context6.sent;\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context6.next = 20;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 20:\n                user.set('accounts', uniq((0, _concat.default)(_context5 = [ethAddress]).call(_context5, (_user$get2 = user.get('accounts')) !== null && _user$get2 !== void 0 ? _user$get2 : [])));\n                user.set('ethAddress', ethAddress);\n                _context6.next = 24;\n                return user.save(null, options);\n\n              case 24:\n                return _context6.abrupt(\"return\", user);\n\n              case 25:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account) {\n        var _user$get3;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context7.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context7.sent;\n                _context7.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context7.next = 10;\n                return _ParseUser.default.current();\n\n              case 10:\n                user = _context7.sent;\n                accounts = (_user$get3 = user.get('accounts')) !== null && _user$get3 !== void 0 ? _user$get3 : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context7.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context7.next = 19;\n                return user.save();\n\n              case 19:\n                return _context7.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n        var _ref,\n            chain,\n            address,\n            result,\n            _args6 = arguments;\n\n        return _regenerator.default.wrap(function (_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _ref = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {}, chain = _ref.chain, address = _ref.address;\n                _context8.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context8.sent;\n                return _context8.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n        var _ref2,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args7 = arguments;\n\n        return _regenerator.default.wrap(function (_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _ref2 = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {}, chain = _ref2.chain, address = _ref2.address, symbol = _ref2.symbol, tokenAddress = _ref2.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context9.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function value() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$chain = _ref3.chain,\n          chain = _ref3$chain === void 0 ? 'Eth' : _ref3$chain,\n          _ref3$address = _ref3.address,\n          address = _ref3$address === void 0 ? '' : _ref3$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function value() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function value() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address,\n          _ref5$order = _ref5.order,\n          order = _ref5$order === void 0 ? 'desc' : _ref5$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function value() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n        var _ref7,\n            _ref7$type,\n            type,\n            _ref7$receiver,\n            receiver,\n            _ref7$contract_addres,\n            contract_address,\n            _ref7$amount,\n            amount,\n            _ref7$token_id,\n            token_id,\n            _ref7$system,\n            system,\n            options,\n            web3,\n            sender,\n            transferOperation,\n            customToken,\n            _args8 = arguments;\n\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _ref7 = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {}, _ref7$type = _ref7.type, type = _ref7$type === void 0 ? 'native' : _ref7$type, _ref7$receiver = _ref7.receiver, receiver = _ref7$receiver === void 0 ? '' : _ref7$receiver, _ref7$contract_addres = _ref7.contract_address, contract_address = _ref7$contract_addres === void 0 ? '' : _ref7$contract_addres, _ref7$amount = _ref7.amount, amount = _ref7$amount === void 0 ? '' : _ref7$amount, _ref7$token_id = _ref7.token_id, token_id = _ref7$token_id === void 0 ? '' : _ref7$token_id, _ref7$system = _ref7.system, system = _ref7$system === void 0 ? 'evm' : _ref7$system;\n                options = {\n                  receiver: receiver,\n                  contract_address: contract_address,\n                  amount: amount,\n                  token_id: token_id,\n                  system: system\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                _context10.next = 6;\n                return MoralisWeb3.enable(options);\n\n              case 6:\n                web3 = _context10.sent;\n                _context10.next = 9;\n                return web3.eth.getAccounts();\n\n              case 9:\n                _context10.next = 11;\n                return _context10.sent[0];\n\n              case 11:\n                sender = _context10.sent;\n\n                if (sender) {\n                  _context10.next = 14;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 14:\n                if (type != 'native') customToken = new web3.eth.Contract(_TransferUtils.default.abi[type], contract_address);\n                _context10.t0 = type;\n                _context10.next = _context10.t0 === 'native' ? 18 : _context10.t0 === 'erc20' ? 20 : _context10.t0 === 'erc721' ? 22 : _context10.t0 === 'erc1155' ? 24 : 26;\n                break;\n\n              case 18:\n                transferOperation = web3.eth.sendTransaction({\n                  from: sender,\n                  to: receiver,\n                  value: amount\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 20:\n                transferOperation = customToken.methods.transfer(receiver, amount).send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 22:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, Number(token_id)).send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 24:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, Number(token_id), amount, '0x').send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 26:\n                return _context10.abrupt(\"return\", transferOperation);\n\n              case 27:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"on\",\n    value: function value(eventName, cb) {\n      var ethereum = window.ethereum;\n\n      if (!ethereum || !ethereum.on) {\n        console.warn(WARNING);\n        return function () {\n          console.warn(WARNING);\n        };\n      }\n\n      ethereum.on(eventName, cb);\n      return function () {\n        console.warn('UNSUB NOT SUPPORTED');\n      };\n    }\n  }, {\n    key: \"getSigningData\",\n    value: function value() {\n      return \"Moralis Authentication\";\n    }\n  }]);\n  return MoralisWeb3;\n}();\n\nMoralisWeb3.onConnect = (0, _bind.default)(_context11 = MoralisWeb3.on).call(_context11, MoralisWeb3, EthereumEvents.CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context12 = MoralisWeb3.on).call(_context12, MoralisWeb3, EthereumEvents.DISCONNECT);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context13 = MoralisWeb3.on).call(_context13, MoralisWeb3, EthereumEvents.CHAIN_CHANGED);\nMoralisWeb3.onAccountsChanged = (0, _bind.default)(_context14 = MoralisWeb3.on).call(_context14, MoralisWeb3, EthereumEvents.ACCOUNTS_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;","map":{"version":3,"sources":["/Users/anthonysiu/doko/DOKO/client/node_modules/moralis/lib/browser/MoralisWeb3.js"],"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","default","EthereumEvents","_bind","_concat","_slicedToArray2","_map","_regenerator","_asyncToGenerator2","_construct2","_classCallCheck2","_createClass2","_indexOf","_filter","_web","_ParseObject","_ParseQuery","_ParseUser","_ParseACL","_MoralisErd","_MoralisDot","_MoralisWalletConnectProvider","_MoralisInjectedProvider","_TransferUtils","_Cloud","_context11","_context12","_context13","_context14","CONNECT","DISCONNECT","ACCOUNTS_CHANGED","CHAIN_CHANGED","WARNING","uniq","arr","call","v","i","MoralisWeb3","MWeb3","window","Web3","_len","arguments","length","args","Array","_key","key","_enable","mark","_callee","options","Web3Provider","web3Provider","web3","wrap","_context","prev","next","getWeb3Provider","activate","sent","activeWeb3Provider","abrupt","stop","apply","type","provider","_cleanup","_callee2","_context2","deactivate","cleanupStaleData","_authenticate","_callee3","_context3","_user$get","isLoggedIn","data","accounts","accountsLower","_accountsLower","ethAddress","signature","authData","user","_context4","current","logOut","cleanup","isDotAuth","authenticate","isElrondAuth","enable","getSigningData","eth","getAccounts","toLowerCase","Error","personal","sign","id","logInWith","setACL","set","get","save","_link","_callee4","account","_context5","_user$get2","EthAddress","query","ethAddressRecord","_context6","extend","catch","linkWith","_unlink","_callee5","_user$get3","nextAccounts","_context7","destroy","_unlinkFrom","_getAllERC","_callee6","_ref","chain","address","result","_args6","_context8","undefined","run","_getERC","_callee7","_ref2","symbol","tokenAddress","_args7","_context9","_ref3","_ref3$chain","_ref3$address","_ref4","_ref4$chain","_ref4$address","_ref5","_ref5$chain","_ref5$address","_ref5$order","order","_ref6","_ref6$chain","_ref6$address","_transfer","_callee8","_ref7","_ref7$type","_ref7$receiver","receiver","_ref7$contract_addres","contract_address","_ref7$amount","amount","_ref7$token_id","token_id","_ref7$system","system","sender","transferOperation","customToken","_args8","_context10","isSupportedType","validateInput","Contract","abi","t0","sendTransaction","from","to","methods","transfer","send","safeTransferFrom","Number","eventName","cb","ethereum","on","console","warn","onConnect","onDisconnect","onChainChanged","onAccountsChanged","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.EthereumEvents = void 0;\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/construct\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _web = _interopRequireDefault(require(\"web3\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisWalletConnectProvider = _interopRequireDefault(require(\"./MoralisWalletConnectProvider\"));\n\nvar _MoralisInjectedProvider = _interopRequireDefault(require(\"./MoralisInjectedProvider\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _context11, _context12, _context13, _context14;\n\nvar EthereumEvents = {\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect',\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged'\n};\nexports.EthereumEvents = EthereumEvents;\nvar WARNING = 'Non ethereum enabled browser';\n\nfunction uniq(arr) {\n  return (0, _filter.default)(arr).call(arr, function (v, i) {\n    return (0, _indexOf.default)(arr).call(arr, v) === i;\n  });\n}\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n    var MWeb3 = typeof _web.default === 'function' ? _web.default : window.Web3;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return (0, _construct2.default)(MWeb3, args);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"enable\",\n    value: function () {\n      var _enable = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(options) {\n        var Web3Provider, web3Provider, web3;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Web3Provider = MoralisWeb3.getWeb3Provider(options);\n                web3Provider = new Web3Provider();\n                _context.next = 4;\n                return web3Provider.activate(options);\n\n              case 4:\n                web3 = _context.sent;\n                this.activeWeb3Provider = web3Provider;\n                return _context.abrupt(\"return\", web3);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _enable.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Provider\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _MoralisWalletConnectProvider.default;\n\n        default:\n          return _MoralisInjectedProvider.default;\n      }\n    }\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.activeWeb3Provider) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.activeWeb3Provider.deactivate();\n\n              case 3:\n                // Prevent a bug when there is stale data active\n                _MoralisWalletConnectProvider.default.cleanupStaleData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(options) {\n        var _context3, _user$get;\n\n        var isLoggedIn, web3, data, accounts, accountsLower, _accountsLower, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.current();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                _context4.next = 8;\n                return MoralisWeb3.cleanup();\n\n              case 8:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return MoralisWeb3.enable(options);\n\n              case 14:\n                web3 = _context4.sent;\n                data = MoralisWeb3.getSigningData();\n                _context4.next = 18;\n                return web3.eth.getAccounts();\n\n              case 18:\n                accounts = _context4.sent;\n                accountsLower = (0, _map.default)(accounts).call(accounts, function (v) {\n                  return v.toLowerCase();\n                });\n                _accountsLower = (0, _slicedToArray2.default)(accountsLower, 1), ethAddress = _accountsLower[0];\n\n                if (ethAddress) {\n                  _context4.next = 23;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 23:\n                _context4.next = 25;\n                return web3.eth.personal.sign(data, ethAddress, '');\n\n              case 25:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 28;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 28:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 31;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 31:\n                user = _context4.sent;\n                _context4.next = 34;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 34:\n                if (user) {\n                  _context4.next = 36;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 36:\n                user.set('accounts', uniq((0, _concat.default)(_context3 = []).call(_context3, accountsLower, (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [])));\n                user.set('ethAddress', ethAddress);\n                _context4.next = 40;\n                return user.save(null, options);\n\n              case 40:\n                return _context4.abrupt(\"return\", user);\n\n              case 41:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(account, options) {\n        var _context5, _user$get2;\n\n        var web3, data, user, ethAddress, EthAddress, query, ethAddressRecord, signature, authData;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return MoralisWeb3.enable(options);\n\n              case 2:\n                web3 = _context6.sent;\n                data = MoralisWeb3.getSigningData();\n                _context6.next = 6;\n                return _ParseUser.default.current();\n\n              case 6:\n                user = _context6.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 12;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 12:\n                ethAddressRecord = _context6.sent;\n\n                if (ethAddressRecord) {\n                  _context6.next = 20;\n                  break;\n                }\n\n                _context6.next = 16;\n                return web3.eth.personal.sign(data, account, '');\n\n              case 16:\n                signature = _context6.sent;\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context6.next = 20;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 20:\n                user.set('accounts', uniq((0, _concat.default)(_context5 = [ethAddress]).call(_context5, (_user$get2 = user.get('accounts')) !== null && _user$get2 !== void 0 ? _user$get2 : [])));\n                user.set('ethAddress', ethAddress);\n                _context6.next = 24;\n                return user.save(null, options);\n\n              case 24:\n                return _context6.abrupt(\"return\", user);\n\n              case 25:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account) {\n        var _user$get3;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context7.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context7.sent;\n                _context7.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context7.next = 10;\n                return _ParseUser.default.current();\n\n              case 10:\n                user = _context7.sent;\n                accounts = (_user$get3 = user.get('accounts')) !== null && _user$get3 !== void 0 ? _user$get3 : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context7.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context7.next = 19;\n                return user.save();\n\n              case 19:\n                return _context7.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {\n        var _ref,\n            chain,\n            address,\n            result,\n            _args6 = arguments;\n\n        return _regenerator.default.wrap(function (_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _ref = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {}, chain = _ref.chain, address = _ref.address;\n                _context8.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context8.sent;\n                return _context8.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {\n        var _ref2,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args7 = arguments;\n\n        return _regenerator.default.wrap(function (_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _ref2 = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {}, chain = _ref2.chain, address = _ref2.address, symbol = _ref2.symbol, tokenAddress = _ref2.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context9.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$chain = _ref3.chain,\n          chain = _ref3$chain === void 0 ? 'Eth' : _ref3$chain,\n          _ref3$address = _ref3.address,\n          address = _ref3$address === void 0 ? '' : _ref3$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address,\n          _ref5$order = _ref5.order,\n          order = _ref5$order === void 0 ? 'desc' : _ref5$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {\n        var _ref7,\n            _ref7$type,\n            type,\n            _ref7$receiver,\n            receiver,\n            _ref7$contract_addres,\n            contract_address,\n            _ref7$amount,\n            amount,\n            _ref7$token_id,\n            token_id,\n            _ref7$system,\n            system,\n            options,\n            web3,\n            sender,\n            transferOperation,\n            customToken,\n            _args8 = arguments;\n\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _ref7 = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {}, _ref7$type = _ref7.type, type = _ref7$type === void 0 ? 'native' : _ref7$type, _ref7$receiver = _ref7.receiver, receiver = _ref7$receiver === void 0 ? '' : _ref7$receiver, _ref7$contract_addres = _ref7.contract_address, contract_address = _ref7$contract_addres === void 0 ? '' : _ref7$contract_addres, _ref7$amount = _ref7.amount, amount = _ref7$amount === void 0 ? '' : _ref7$amount, _ref7$token_id = _ref7.token_id, token_id = _ref7$token_id === void 0 ? '' : _ref7$token_id, _ref7$system = _ref7.system, system = _ref7$system === void 0 ? 'evm' : _ref7$system;\n                options = {\n                  receiver: receiver,\n                  contract_address: contract_address,\n                  amount: amount,\n                  token_id: token_id,\n                  system: system\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                _context10.next = 6;\n                return MoralisWeb3.enable(options);\n\n              case 6:\n                web3 = _context10.sent;\n                _context10.next = 9;\n                return web3.eth.getAccounts();\n\n              case 9:\n                _context10.next = 11;\n                return _context10.sent[0];\n\n              case 11:\n                sender = _context10.sent;\n\n                if (sender) {\n                  _context10.next = 14;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 14:\n                if (type != 'native') customToken = new web3.eth.Contract(_TransferUtils.default.abi[type], contract_address);\n                _context10.t0 = type;\n                _context10.next = _context10.t0 === 'native' ? 18 : _context10.t0 === 'erc20' ? 20 : _context10.t0 === 'erc721' ? 22 : _context10.t0 === 'erc1155' ? 24 : 26;\n                break;\n\n              case 18:\n                transferOperation = web3.eth.sendTransaction({\n                  from: sender,\n                  to: receiver,\n                  value: amount\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 20:\n                transferOperation = customToken.methods.transfer(receiver, amount).send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 22:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, Number(token_id)).send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 24:\n                transferOperation = customToken.methods.safeTransferFrom(sender, receiver, Number(token_id), amount, '0x').send({\n                  from: sender\n                });\n                return _context10.abrupt(\"break\", 26);\n\n              case 26:\n                return _context10.abrupt(\"return\", transferOperation);\n\n              case 27:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"on\",\n    value: function (eventName, cb) {\n      var ethereum = window.ethereum;\n\n      if (!ethereum || !ethereum.on) {\n        console.warn(WARNING);\n        return function () {\n          console.warn(WARNING);\n        };\n      }\n\n      ethereum.on(eventName, cb);\n      return function () {\n        console.warn('UNSUB NOT SUPPORTED');\n      };\n    }\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\";\n    }\n  }]);\n  return MoralisWeb3;\n}();\n\nMoralisWeb3.onConnect = (0, _bind.default)(_context11 = MoralisWeb3.on).call(_context11, MoralisWeb3, EthereumEvents.CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context12 = MoralisWeb3.on).call(_context12, MoralisWeb3, EthereumEvents.DISCONNECT);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context13 = MoralisWeb3.on).call(_context13, MoralisWeb3, EthereumEvents.CHAIN_CHANGED);\nMoralisWeb3.onAccountsChanged = (0, _bind.default)(_context14 = MoralisWeb3.on).call(_context14, MoralisWeb3, EthereumEvents.ACCOUNTS_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}