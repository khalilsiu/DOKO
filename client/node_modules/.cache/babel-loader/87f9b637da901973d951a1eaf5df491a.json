{"ast":null,"code":"import valueToArray from './valuteToArray';\nimport getOption from './getOption';\nexport default function getOptions(value, oldValue, options, multiple) {\n  if (!multiple) {\n    var newOption = getOption(value, options);\n\n    if (newOption) {\n      return newOption;\n    }\n\n    return oldValue;\n  }\n\n  var oldOptions = valueToArray(oldValue);\n  var newOptions = valueToArray(value).map(function (o) {\n    return getOption(o, options);\n  }).filter(function (o) {\n    return o !== null && o !== undefined;\n  });\n\n  if (!oldOptions.length) {\n    return newOptions;\n  }\n\n  if (!newOptions.length) {\n    return oldOptions;\n  }\n\n  newOptions.forEach(function (newOption) {\n    var optionIndex = oldOptions.findIndex(function (o) {\n      return o.value == newOption.value;\n    });\n\n    if (optionIndex >= 0) {\n      oldOptions.splice(optionIndex, 1);\n    } else {\n      oldOptions.push(newOption);\n    }\n  });\n  return oldOptions;\n}","map":{"version":3,"sources":["/Users/anthonysiu/doko/DOKO/client/node_modules/react-select-search/dist/esm/lib/getOptions.js"],"names":["valueToArray","getOption","getOptions","value","oldValue","options","multiple","newOption","oldOptions","newOptions","map","o","filter","undefined","length","forEach","optionIndex","findIndex","splice","push"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,QAA3B,EAAqCC,OAArC,EAA8CC,QAA9C,EAAwD;AACrE,MAAI,CAACA,QAAL,EAAe;AACb,QAAMC,SAAS,GAAGN,SAAS,CAACE,KAAD,EAAQE,OAAR,CAA3B;;AAEA,QAAIE,SAAJ,EAAe;AACb,aAAOA,SAAP;AACD;;AAED,WAAOH,QAAP;AACD;;AAED,MAAMI,UAAU,GAAGR,YAAY,CAACI,QAAD,CAA/B;AACA,MAAMK,UAAU,GAAGT,YAAY,CAACG,KAAD,CAAZ,CAAoBO,GAApB,CAAwB,UAAAC,CAAC;AAAA,WAAIV,SAAS,CAACU,CAAD,EAAIN,OAAJ,CAAb;AAAA,GAAzB,EAAoDO,MAApD,CAA2D,UAAAD,CAAC;AAAA,WAAIA,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAKE,SAAxB;AAAA,GAA5D,CAAnB;;AAEA,MAAI,CAACL,UAAU,CAACM,MAAhB,EAAwB;AACtB,WAAOL,UAAP;AACD;;AAED,MAAI,CAACA,UAAU,CAACK,MAAhB,EAAwB;AACtB,WAAON,UAAP;AACD;;AAEDC,EAAAA,UAAU,CAACM,OAAX,CAAmB,UAAAR,SAAS,EAAI;AAC9B,QAAMS,WAAW,GAAGR,UAAU,CAACS,SAAX,CAAqB,UAAAN,CAAC;AAAA,aAAIA,CAAC,CAACR,KAAF,IAAWI,SAAS,CAACJ,KAAzB;AAAA,KAAtB,CAApB;;AAEA,QAAIa,WAAW,IAAI,CAAnB,EAAsB;AACpBR,MAAAA,UAAU,CAACU,MAAX,CAAkBF,WAAlB,EAA+B,CAA/B;AACD,KAFD,MAEO;AACLR,MAAAA,UAAU,CAACW,IAAX,CAAgBZ,SAAhB;AACD;AACF,GARD;AASA,SAAOC,UAAP;AACD","sourcesContent":["import valueToArray from './valuteToArray';\nimport getOption from './getOption';\nexport default function getOptions(value, oldValue, options, multiple) {\n  if (!multiple) {\n    const newOption = getOption(value, options);\n\n    if (newOption) {\n      return newOption;\n    }\n\n    return oldValue;\n  }\n\n  const oldOptions = valueToArray(oldValue);\n  const newOptions = valueToArray(value).map(o => getOption(o, options)).filter(o => o !== null && o !== undefined);\n\n  if (!oldOptions.length) {\n    return newOptions;\n  }\n\n  if (!newOptions.length) {\n    return oldOptions;\n  }\n\n  newOptions.forEach(newOption => {\n    const optionIndex = oldOptions.findIndex(o => o.value == newOption.value);\n\n    if (optionIndex >= 0) {\n      oldOptions.splice(optionIndex, 1);\n    } else {\n      oldOptions.push(newOption);\n    }\n  });\n  return oldOptions;\n}"]},"metadata":{},"sourceType":"module"}