{"ast":null,"code":"import _regeneratorRuntime from \"/Users/anthonysiu/doko/DOKO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/anthonysiu/doko/DOKO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/anthonysiu/doko/DOKO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/anthonysiu/doko/DOKO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios';\n\nvar ContractServiceAPI = /*#__PURE__*/function () {\n  function ContractServiceAPI() {\n    _classCallCheck(this, ContractServiceAPI);\n  }\n\n  _createClass(ContractServiceAPI, null, [{\n    key: \"getAssetFloorPrice\",\n    value: function () {\n      var _getAssetFloorPrice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(address, traits) {\n        var instance, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                instance = axios.create({\n                  baseURL: process.env.REACT_APP_CONTRACT_SERVICE_API\n                });\n                _context.next = 3;\n                return instance.post('asset/floor-price', {\n                  address: address,\n                  traits: traits\n                }).then(function (res) {\n                  return res.data;\n                }).catch(function (err) {\n                  if (err.response.status === 404) {\n                    return {\n                      price: 0,\n                      payment_token: {\n                        address: '0x0000000000000000000000000000000000000000',\n                        decimals: 18,\n                        eth_price: '1.000000000000000',\n                        symbol: 'ETH'\n                      }\n                    };\n                  }\n\n                  throw err;\n                });\n\n              case 3:\n                res = _context.sent;\n                return _context.abrupt(\"return\", res);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getAssetFloorPrice(_x, _x2) {\n        return _getAssetFloorPrice.apply(this, arguments);\n      }\n\n      return getAssetFloorPrice;\n    }()\n  }]);\n\n  return ContractServiceAPI;\n}();\n\nexport { ContractServiceAPI as default };","map":{"version":3,"sources":["/Users/anthonysiu/doko/DOKO/client/src/libs/contract-service-api.ts"],"names":["axios","ContractServiceAPI","address","traits","instance","create","baseURL","process","env","REACT_APP_CONTRACT_SERVICE_API","post","then","res","data","catch","err","response","status","price","payment_token","decimals","eth_price","symbol"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAGqBC,kB;;;;;;;;yFACnB,iBAAgCC,OAAhC,EAAiDC,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,gBAAAA,QADR,GACmBJ,KAAK,CAACK,MAAN,CAAa;AAC5BC,kBAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AADO,iBAAb,CADnB;AAAA;AAAA,uBAIoBL,QAAQ,CACvBM,IADe,CACV,mBADU,EACW;AACzBR,kBAAAA,OAAO,EAAPA,OADyB;AAEzBC,kBAAAA,MAAM,EAANA;AAFyB,iBADX,EAKfQ,IALe,CAKV,UAACC,GAAD;AAAA,yBAASA,GAAG,CAACC,IAAb;AAAA,iBALU,EAMfC,KANe,CAMT,UAACC,GAAD,EAAS;AACd,sBAAIA,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA5B,EAAiC;AAC/B,2BAAO;AACLC,sBAAAA,KAAK,EAAE,CADF;AAELC,sBAAAA,aAAa,EAAE;AACbjB,wBAAAA,OAAO,EAAE,4CADI;AAEbkB,wBAAAA,QAAQ,EAAE,EAFG;AAGbC,wBAAAA,SAAS,EAAE,mBAHE;AAIbC,wBAAAA,MAAM,EAAE;AAJK;AAFV,qBAAP;AASD;;AACD,wBAAMP,GAAN;AACD,iBAnBe,CAJpB;;AAAA;AAIQH,gBAAAA,GAJR;AAAA,iDAwBSA,GAxBT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;SADmBX,kB","sourcesContent":["import axios from 'axios';\nimport { Filter } from '../hooks/useProfileSummaries';\n\nexport default class ContractServiceAPI {\n  static async getAssetFloorPrice(address: string, traits: Filter[]) {\n    const instance = axios.create({\n      baseURL: process.env.REACT_APP_CONTRACT_SERVICE_API,\n    });\n    const res = await instance\n      .post('asset/floor-price', {\n        address,\n        traits,\n      })\n      .then((res) => res.data)\n      .catch((err) => {\n        if (err.response.status === 404) {\n          return {\n            price: 0,\n            payment_token: {\n              address: '0x0000000000000000000000000000000000000000',\n              decimals: 18,\n              eth_price: '1.000000000000000',\n              symbol: 'ETH',\n            },\n          };\n        }\n        throw err;\n      });\n    return res;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}