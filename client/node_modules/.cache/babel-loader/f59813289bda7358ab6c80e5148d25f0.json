{"ast":null,"code":"import { memo, useCallback, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { optionType, valueType } from '../types';\nimport OptionsList from './OptionsList';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar Options = function Options(_ref) {\n  var options = _ref.options,\n      optionProps = _ref.optionProps,\n      snapshot = _ref.snapshot,\n      cls = _ref.cls,\n      renderGroupHeader = _ref.renderGroupHeader,\n      renderOption = _ref.renderOption,\n      emptyMessage = _ref.emptyMessage;\n  var selectRef = useRef(null);\n  var value = snapshot.value,\n      highlighted = snapshot.highlighted;\n  var renderEmptyMessage = useCallback(function () {\n    if (emptyMessage === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsx(\"li\", {\n      className: cls('not-found'),\n      children: typeof emptyMessage === 'function' ? emptyMessage() : emptyMessage\n    });\n  }, [emptyMessage, cls]);\n  useEffect(function () {\n    var current = selectRef.current;\n\n    if (!current || highlighted < 0 && value === null) {\n      return;\n    }\n\n    var val = Array.isArray(value) ? value[0] : value;\n    var query = highlighted > -1 ? \"[data-index=\\\"\".concat(highlighted, \"\\\"]\") : \"[data-value=\\\"\".concat(escape(val), \"\\\"]\");\n    var selected = current.querySelector(query);\n\n    if (selected) {\n      var rect = current.getBoundingClientRect();\n      var selectedRect = selected.getBoundingClientRect();\n      current.scrollTop = selected.offsetTop - rect.height / 2 + selectedRect.height / 2;\n    }\n  }, [value, highlighted, selectRef]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    _jsx(\"div\", {\n      className: cls('select'),\n      ref: selectRef,\n      onMouseDown: function onMouseDown(e) {\n        return e.preventDefault();\n      },\n      children: options.length ? /*#__PURE__*/_jsx(OptionsList, {\n        optionProps: optionProps,\n        snapshot: snapshot,\n        options: options,\n        renderOption: renderOption,\n        renderGroupHeader: renderGroupHeader,\n        cls: cls\n      }) : /*#__PURE__*/_jsx(\"ul\", {\n        className: cls('options'),\n        children: renderEmptyMessage()\n      })\n    })\n  );\n};\n\nOptions.defaultProps = {\n  renderOption: null,\n  renderGroupHeader: null,\n  emptyMessage: null\n};\nOptions.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  options: PropTypes.arrayOf(optionType).isRequired,\n  optionProps: PropTypes.shape({\n    tabIndex: PropTypes.string.isRequired,\n    onMouseDown: PropTypes.func.isRequired\n  }).isRequired,\n  snapshot: PropTypes.shape({\n    highlighted: PropTypes.number.isRequired,\n    value: valueType\n  }).isRequired,\n  cls: PropTypes.func.isRequired,\n  renderGroupHeader: PropTypes.func,\n  renderOption: PropTypes.func,\n  emptyMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n} : {};\nexport default /*#__PURE__*/memo(Options);","map":{"version":3,"sources":["/Users/anthonysiu/doko/DOKO/client/node_modules/react-select-search/dist/esm/Components/Options.js"],"names":["memo","useCallback","useEffect","useRef","PropTypes","optionType","valueType","OptionsList","jsx","_jsx","Options","options","optionProps","snapshot","cls","renderGroupHeader","renderOption","emptyMessage","selectRef","value","highlighted","renderEmptyMessage","className","children","current","val","Array","isArray","query","escape","selected","querySelector","rect","getBoundingClientRect","selectedRect","scrollTop","offsetTop","height","ref","onMouseDown","e","preventDefault","length","defaultProps","propTypes","process","env","NODE_ENV","arrayOf","isRequired","shape","tabIndex","string","func","number","oneOfType"],"mappings":"AAAA,SAASA,IAAT,EAAeC,WAAf,EAA4BC,SAA5B,EAAuCC,MAAvC,QAAqD,OAArD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,UAAtC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,GAAG,IAAIC,IAAhB,QAA4B,mBAA5B;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAQV;AAAA,MAPJC,OAOI,QAPJA,OAOI;AAAA,MANJC,WAMI,QANJA,WAMI;AAAA,MALJC,QAKI,QALJA,QAKI;AAAA,MAJJC,GAII,QAJJA,GAII;AAAA,MAHJC,iBAGI,QAHJA,iBAGI;AAAA,MAFJC,YAEI,QAFJA,YAEI;AAAA,MADJC,YACI,QADJA,YACI;AACJ,MAAMC,SAAS,GAAGf,MAAM,CAAC,IAAD,CAAxB;AACA,MACEgB,KADF,GAGIN,QAHJ,CACEM,KADF;AAAA,MAEEC,WAFF,GAGIP,QAHJ,CAEEO,WAFF;AAIA,MAAMC,kBAAkB,GAAGpB,WAAW,CAAC,YAAM;AAC3C,QAAIgB,YAAY,KAAK,IAArB,EAA2B;AACzB,aAAO,IAAP;AACD;;AAED,WAAO,aAAaR,IAAI,CAAC,IAAD,EAAO;AAC7Ba,MAAAA,SAAS,EAAER,GAAG,CAAC,WAAD,CADe;AAE7BS,MAAAA,QAAQ,EAAE,OAAON,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,EAAjD,GAAsDA;AAFnC,KAAP,CAAxB;AAID,GATqC,EASnC,CAACA,YAAD,EAAeH,GAAf,CATmC,CAAtC;AAUAZ,EAAAA,SAAS,CAAC,YAAM;AACd,QACEsB,OADF,GAEIN,SAFJ,CACEM,OADF;;AAIA,QAAI,CAACA,OAAD,IAAYJ,WAAW,GAAG,CAAd,IAAmBD,KAAK,KAAK,IAA7C,EAAmD;AACjD;AACD;;AAED,QAAMM,GAAG,GAAGC,KAAK,CAACC,OAAN,CAAcR,KAAd,IAAuBA,KAAK,CAAC,CAAD,CAA5B,GAAkCA,KAA9C;AACA,QAAMS,KAAK,GAAGR,WAAW,GAAG,CAAC,CAAf,2BAAmCA,WAAnC,mCAAqES,MAAM,CAACJ,GAAD,CAA3E,QAAd;AACA,QAAMK,QAAQ,GAAGN,OAAO,CAACO,aAAR,CAAsBH,KAAtB,CAAjB;;AAEA,QAAIE,QAAJ,EAAc;AACZ,UAAME,IAAI,GAAGR,OAAO,CAACS,qBAAR,EAAb;AACA,UAAMC,YAAY,GAAGJ,QAAQ,CAACG,qBAAT,EAArB;AACAT,MAAAA,OAAO,CAACW,SAAR,GAAoBL,QAAQ,CAACM,SAAT,GAAqBJ,IAAI,CAACK,MAAL,GAAc,CAAnC,GAAuCH,YAAY,CAACG,MAAb,GAAsB,CAAjF;AACD;AACF,GAlBQ,EAkBN,CAAClB,KAAD,EAAQC,WAAR,EAAqBF,SAArB,CAlBM,CAAT;AAmBA;AACE;AACA;AACAT,IAAAA,IAAI,CAAC,KAAD,EAAQ;AACVa,MAAAA,SAAS,EAAER,GAAG,CAAC,QAAD,CADJ;AAEVwB,MAAAA,GAAG,EAAEpB,SAFK;AAGVqB,MAAAA,WAAW,EAAE,qBAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,cAAF,EAAJ;AAAA,OAHJ;AAIVlB,MAAAA,QAAQ,EAAEZ,OAAO,CAAC+B,MAAR,GAAiB,aAAajC,IAAI,CAACF,WAAD,EAAc;AACxDK,QAAAA,WAAW,EAAEA,WAD2C;AAExDC,QAAAA,QAAQ,EAAEA,QAF8C;AAGxDF,QAAAA,OAAO,EAAEA,OAH+C;AAIxDK,QAAAA,YAAY,EAAEA,YAJ0C;AAKxDD,QAAAA,iBAAiB,EAAEA,iBALqC;AAMxDD,QAAAA,GAAG,EAAEA;AANmD,OAAd,CAAlC,GAOL,aAAaL,IAAI,CAAC,IAAD,EAAO;AAC3Ba,QAAAA,SAAS,EAAER,GAAG,CAAC,SAAD,CADa;AAE3BS,QAAAA,QAAQ,EAAEF,kBAAkB;AAFD,OAAP;AAXZ,KAAR;AAHN;AAoBD,CA/DD;;AAiEAX,OAAO,CAACiC,YAAR,GAAuB;AACrB3B,EAAAA,YAAY,EAAE,IADO;AAErBD,EAAAA,iBAAiB,EAAE,IAFE;AAGrBE,EAAAA,YAAY,EAAE;AAHO,CAAvB;AAKAP,OAAO,CAACkC,SAAR,GAAoBC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC;AAC1DpC,EAAAA,OAAO,EAAEP,SAAS,CAAC4C,OAAV,CAAkB3C,UAAlB,EAA8B4C,UADmB;AAE1DrC,EAAAA,WAAW,EAAER,SAAS,CAAC8C,KAAV,CAAgB;AAC3BC,IAAAA,QAAQ,EAAE/C,SAAS,CAACgD,MAAV,CAAiBH,UADA;AAE3BV,IAAAA,WAAW,EAAEnC,SAAS,CAACiD,IAAV,CAAeJ;AAFD,GAAhB,EAGVA,UALuD;AAM1DpC,EAAAA,QAAQ,EAAET,SAAS,CAAC8C,KAAV,CAAgB;AACxB9B,IAAAA,WAAW,EAAEhB,SAAS,CAACkD,MAAV,CAAiBL,UADN;AAExB9B,IAAAA,KAAK,EAAEb;AAFiB,GAAhB,EAGP2C,UATuD;AAU1DnC,EAAAA,GAAG,EAAEV,SAAS,CAACiD,IAAV,CAAeJ,UAVsC;AAW1DlC,EAAAA,iBAAiB,EAAEX,SAAS,CAACiD,IAX6B;AAY1DrC,EAAAA,YAAY,EAAEZ,SAAS,CAACiD,IAZkC;AAa1DpC,EAAAA,YAAY,EAAEb,SAAS,CAACmD,SAAV,CAAoB,CAACnD,SAAS,CAACgD,MAAX,EAAmBhD,SAAS,CAACiD,IAA7B,CAApB;AAb4C,CAAxC,GAchB,EAdJ;AAeA,eAAe,aAAarD,IAAI,CAACU,OAAD,CAAhC","sourcesContent":["import { memo, useCallback, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { optionType, valueType } from '../types';\nimport OptionsList from './OptionsList';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst Options = ({\n  options,\n  optionProps,\n  snapshot,\n  cls,\n  renderGroupHeader,\n  renderOption,\n  emptyMessage\n}) => {\n  const selectRef = useRef(null);\n  const {\n    value,\n    highlighted\n  } = snapshot;\n  const renderEmptyMessage = useCallback(() => {\n    if (emptyMessage === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsx(\"li\", {\n      className: cls('not-found'),\n      children: typeof emptyMessage === 'function' ? emptyMessage() : emptyMessage\n    });\n  }, [emptyMessage, cls]);\n  useEffect(() => {\n    const {\n      current\n    } = selectRef;\n\n    if (!current || highlighted < 0 && value === null) {\n      return;\n    }\n\n    const val = Array.isArray(value) ? value[0] : value;\n    const query = highlighted > -1 ? `[data-index=\"${highlighted}\"]` : `[data-value=\"${escape(val)}\"]`;\n    const selected = current.querySelector(query);\n\n    if (selected) {\n      const rect = current.getBoundingClientRect();\n      const selectedRect = selected.getBoundingClientRect();\n      current.scrollTop = selected.offsetTop - rect.height / 2 + selectedRect.height / 2;\n    }\n  }, [value, highlighted, selectRef]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    _jsx(\"div\", {\n      className: cls('select'),\n      ref: selectRef,\n      onMouseDown: e => e.preventDefault(),\n      children: options.length ? /*#__PURE__*/_jsx(OptionsList, {\n        optionProps: optionProps,\n        snapshot: snapshot,\n        options: options,\n        renderOption: renderOption,\n        renderGroupHeader: renderGroupHeader,\n        cls: cls\n      }) : /*#__PURE__*/_jsx(\"ul\", {\n        className: cls('options'),\n        children: renderEmptyMessage()\n      })\n    })\n  );\n};\n\nOptions.defaultProps = {\n  renderOption: null,\n  renderGroupHeader: null,\n  emptyMessage: null\n};\nOptions.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  options: PropTypes.arrayOf(optionType).isRequired,\n  optionProps: PropTypes.shape({\n    tabIndex: PropTypes.string.isRequired,\n    onMouseDown: PropTypes.func.isRequired\n  }).isRequired,\n  snapshot: PropTypes.shape({\n    highlighted: PropTypes.number.isRequired,\n    value: valueType\n  }).isRequired,\n  cls: PropTypes.func.isRequired,\n  renderGroupHeader: PropTypes.func,\n  renderOption: PropTypes.func,\n  emptyMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n} : {};\nexport default /*#__PURE__*/memo(Options);"]},"metadata":{},"sourceType":"module"}